<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OMG</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet"
    />
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
        /* Original CSS here */
    </style>
    <script>
        let links = [
            "https://www.profitablecpmrate.com/yx8nftwk?key=435d59ba13b4c320b96be95c5ff49dfe",
            "https://www.profitablecpmrate.com/vw0ep2h1t0?key=1a7ee1d158eaca3d43ecf404d5dee09a",
            "https://www.profitablecpmrate.com/aaj1qx3dc?key=71d97788a5c9f7a50a7a56ba0af0d85f",
            "https://www.profitablecpmrate.com/xc6nhjzdf?key=a743afd7a76dc5a965a6df3af0f7764a",
        ];
        let currentIndex = 0;
        let autoNavigateInterval;
        let autoClickInterval;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function refreshPage(interval = 250000) {
            setInterval(() => {
                location.reload();
            }, interval);
        }

        function showLink(index) {
            const iframe = document.getElementById("modalIframe");
            const modal = document.getElementById("myModal");
            const spinner = document.getElementById("spinner");
            iframe.src = links[index];
            modal.style.display = "flex";
            spinner.style.display = "block";
            iframe.onload = () => {
                spinner.style.display = "none";
            };
            clearInterval(autoNavigateInterval);
            autoNavigateInterval = setInterval(() => {
                navigate(1);
            }, Math.floor(Math.random() * (40000 - 30000 + 1) + 30000));
        }

        function simulateClick() {
            const randomTime = Math.floor(Math.random() * (30000 - 10000 + 1) + 10000);
            clearInterval(autoClickInterval);
            autoClickInterval = setInterval(() => {
                document.querySelector('.go-btn').click();
            }, randomTime);
        }

        function navigate(direction) {
            currentIndex =
                (currentIndex + direction + links.length) % links.length;
            showLink(currentIndex);
            simulateClick();
        }

        function goToSite() {
            window.open(links[currentIndex], "_blank");
        }

        function closeModal() {
            document.getElementById("myModal").style.display = "none";
            document.getElementById("modalIframe").src = "";
            document.getElementById("fallback").style.display = "flex";
            clearInterval(autoNavigateInterval);
            clearInterval(autoClickInterval);
        }

        function reopenModal() {
            showLink(currentIndex);
        }

        window.onload = function () {
            shuffleArray(links);
            refreshPage();
            showLink(currentIndex);
            simulateClick();
        };
    </script>
</head>

<body>
    <div class="modal" id="myModal">
        <div class="modal-content">
            <div class="modal-header">
                <span>Explore Dimensions</span>
                <span class="close" onclick="closeModal()">Ã—</span>
            </div>
            <div class="spinner" id="spinner"></div>
            <iframe id="modalIframe" src=""></iframe>
            <div class="nav-buttons">
                <button class="arrow-btn" onclick="navigate(-1)">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <button class="go-btn" onclick="goToSite()">
                    Go <i class="fas fa-door-open"></i>
                </button>
                <button class="arrow-btn" onclick="navigate(1)">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="fallback" id="fallback">
        <p>
            The journey awaits. Click below to explore the next destination!
        </p>
        <button class="show-modal-btn" onclick="reopenModal()">
            <i class="fas fa-eye"></i> Enter Portal
        </button>
    </div>
</body>
</html>
